{"ast":null,"code":"(function (global, factory) {\n  if (typeof define === \"function\" && define.amd) {\n    define([\"exports\", \"lodash/clone\"], factory);\n  } else if (typeof exports !== \"undefined\") {\n    factory(exports, require(\"lodash/clone\"));\n  } else {\n    var mod = {\n      exports: {}\n    };\n    factory(mod.exports, global.clone);\n    global.apiForm = mod.exports;\n  }\n})(this, function (_exports, _clone) {\n  \"use strict\";\n\n  Object.defineProperty(_exports, \"__esModule\", {\n    value: true\n  });\n  _exports.default = apiForm;\n  _clone = _interopRequireDefault(_clone);\n\n  function _interopRequireDefault(obj) {\n    return obj && obj.__esModule ? obj : {\n      default: obj\n    };\n  }\n\n  function _objectSpread(target) {\n    for (var i = 1; i < arguments.length; i++) {\n      var source = arguments[i] != null ? arguments[i] : {};\n      var ownKeys = Object.keys(source);\n\n      if (typeof Object.getOwnPropertySymbols === 'function') {\n        ownKeys = ownKeys.concat(Object.getOwnPropertySymbols(source).filter(function (sym) {\n          return Object.getOwnPropertyDescriptor(source, sym).enumerable;\n        }));\n      }\n\n      ownKeys.forEach(function (key) {\n        _defineProperty(target, key, source[key]);\n      });\n    }\n\n    return target;\n  }\n\n  function _defineProperty(obj, key, value) {\n    if (key in obj) {\n      Object.defineProperty(obj, key, {\n        value: value,\n        enumerable: true,\n        configurable: true,\n        writable: true\n      });\n    } else {\n      obj[key] = value;\n    }\n\n    return obj;\n  }\n\n  function apiForm(params, api) {\n    var onDestroy = params.onDestroy;\n\n    api.setInitialValues = function () {\n      var values = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n      api.setFlatData('values', (0, _clone.default)(values));\n      api.setFlatData('lastInitializedValues', (0, _clone.default)(values));\n      api.validateForm();\n    }; // @TODO: Support keepDirty\n    // @TODO: setIsVisitedAndNotify(false)\n\n\n    api.initialize = function (values) {\n      var options = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {};\n\n      var mergedOptions = _objectSpread({\n        unvisitFields: false\n      }, options);\n\n      api.setInitialValues(typeof values === 'function' ? values(api.getFormValues()) : values);\n      api.forEachField(api.notifyFieldValueWatchers);\n      api.notifyFormValuesWatchers();\n      api.validateForm({\n        visited: !mergedOptions.unvisitFields\n      }); // @TODO: Reset fields meta\n    };\n\n    api.isInitialized = function () {\n      return !api.getFlatData('lastInitializedValues');\n    };\n\n    api.reset = function () {\n      api.initialize((0, _clone.default)(api.getFlatData('lastInitializedValues')), {\n        unvisitFields: true\n      });\n    };\n\n    api.submitting = function () {\n      api.changeFormMeta({\n        submitting: true\n      });\n    };\n\n    api.submitFailed = function (error) {\n      api.changeFormMeta({\n        result: undefined,\n        submitting: false,\n        submitSucceeded: false,\n        submitFailed: true,\n        error: error\n      });\n    };\n\n    api.submitSucceeded = function (result) {\n      api.changeFormMeta({\n        result: result,\n        submitting: false,\n        submitSucceeded: true,\n        submitFailed: false,\n        error: undefined\n      });\n    };\n\n    api.submit = function () {\n      var params = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n      var error = api.validateForm({\n        visited: true\n      });\n\n      if (typeof error !== 'undefined') {\n        api.submitFailed(error);\n      } else {\n        var onSubmit = api.getDeepData('props.onSubmit');\n        var onFail = api.getDeepData('props.onFail');\n        var onSucceed = api.getDeepData('props.onSucceed');\n        var onComplete = api.getDeepData('props.onComplete');\n        api.submitting();\n        api.forEachField(function (field) {\n          if (!api.getFieldMeta(field, 'visited')) {\n            api.changeFieldMeta(field, 'visited', true);\n          }\n        });\n        onSubmit(api.getFormValues()).then(function (result) {\n          api.submitSucceeded(result);\n\n          if (typeof params.onSucceed === 'function') {\n            params.onSucceed(result);\n          }\n\n          if (typeof onSucceed === 'function') {\n            onSucceed(result);\n          }\n\n          if (typeof params.onComplete === 'function') {\n            params.onComplete();\n          }\n\n          if (typeof onComplete === 'function') {\n            onComplete();\n          }\n        }).catch(function (error) {\n          if (error && error.errors) {\n            api.updateFieldErrors(error.errors, {\n              isServerSideError: true\n            });\n          }\n\n          api.submitFailed(error);\n\n          if (typeof params.onFail === 'function') {\n            params.onFail(error);\n          }\n\n          if (typeof onFail === 'function') {\n            onFail(error);\n          }\n\n          if (typeof params.onComplete === 'function') {\n            params.onComplete();\n          }\n\n          if (typeof onComplete === 'function') {\n            onComplete();\n          }\n        });\n      }\n    };\n\n    api.destroy = function () {\n      onDestroy();\n      api.forEachField(function (field) {\n        api.notifyFieldValueWatchers(field);\n        api.notifyFieldMetaWatchers(field);\n      });\n      api.notifyFormValuesWatchers();\n      api.notifyFormMetaWatchers();\n    };\n  }\n});","map":{"version":3,"sources":["/home/xim/Documents/Master/twitter-app/front-end/node_modules/react-hooks-form/es/store/api.form.js"],"names":["global","factory","define","amd","exports","require","mod","clone","apiForm","_exports","_clone","Object","defineProperty","value","default","_interopRequireDefault","obj","__esModule","_objectSpread","target","i","arguments","length","source","ownKeys","keys","getOwnPropertySymbols","concat","filter","sym","getOwnPropertyDescriptor","enumerable","forEach","key","_defineProperty","configurable","writable","params","api","onDestroy","setInitialValues","values","undefined","setFlatData","validateForm","initialize","options","mergedOptions","unvisitFields","getFormValues","forEachField","notifyFieldValueWatchers","notifyFormValuesWatchers","visited","isInitialized","getFlatData","reset","submitting","changeFormMeta","submitFailed","error","result","submitSucceeded","submit","onSubmit","getDeepData","onFail","onSucceed","onComplete","field","getFieldMeta","changeFieldMeta","then","catch","errors","updateFieldErrors","isServerSideError","destroy","notifyFieldMetaWatchers","notifyFormMetaWatchers"],"mappings":"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","sourcesContent":["(function (global, factory) {\n  if (typeof define === \"function\" && define.amd) {\n    define([\"exports\", \"lodash/clone\"], factory);\n  } else if (typeof exports !== \"undefined\") {\n    factory(exports, require(\"lodash/clone\"));\n  } else {\n    var mod = {\n      exports: {}\n    };\n    factory(mod.exports, global.clone);\n    global.apiForm = mod.exports;\n  }\n})(this, function (_exports, _clone) {\n  \"use strict\";\n\n  Object.defineProperty(_exports, \"__esModule\", {\n    value: true\n  });\n  _exports.default = apiForm;\n  _clone = _interopRequireDefault(_clone);\n\n  function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\n  function _objectSpread(target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i] != null ? arguments[i] : {}; var ownKeys = Object.keys(source); if (typeof Object.getOwnPropertySymbols === 'function') { ownKeys = ownKeys.concat(Object.getOwnPropertySymbols(source).filter(function (sym) { return Object.getOwnPropertyDescriptor(source, sym).enumerable; })); } ownKeys.forEach(function (key) { _defineProperty(target, key, source[key]); }); } return target; }\n\n  function _defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }\n\n  function apiForm(params, api) {\n    var onDestroy = params.onDestroy;\n\n    api.setInitialValues = function () {\n      var values = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n      api.setFlatData('values', (0, _clone.default)(values));\n      api.setFlatData('lastInitializedValues', (0, _clone.default)(values));\n      api.validateForm();\n    }; // @TODO: Support keepDirty\n    // @TODO: setIsVisitedAndNotify(false)\n\n\n    api.initialize = function (values) {\n      var options = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {};\n\n      var mergedOptions = _objectSpread({\n        unvisitFields: false\n      }, options);\n\n      api.setInitialValues(typeof values === 'function' ? values(api.getFormValues()) : values);\n      api.forEachField(api.notifyFieldValueWatchers);\n      api.notifyFormValuesWatchers();\n      api.validateForm({\n        visited: !mergedOptions.unvisitFields\n      }); // @TODO: Reset fields meta\n    };\n\n    api.isInitialized = function () {\n      return !api.getFlatData('lastInitializedValues');\n    };\n\n    api.reset = function () {\n      api.initialize((0, _clone.default)(api.getFlatData('lastInitializedValues')), {\n        unvisitFields: true\n      });\n    };\n\n    api.submitting = function () {\n      api.changeFormMeta({\n        submitting: true\n      });\n    };\n\n    api.submitFailed = function (error) {\n      api.changeFormMeta({\n        result: undefined,\n        submitting: false,\n        submitSucceeded: false,\n        submitFailed: true,\n        error: error\n      });\n    };\n\n    api.submitSucceeded = function (result) {\n      api.changeFormMeta({\n        result: result,\n        submitting: false,\n        submitSucceeded: true,\n        submitFailed: false,\n        error: undefined\n      });\n    };\n\n    api.submit = function () {\n      var params = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n      var error = api.validateForm({\n        visited: true\n      });\n\n      if (typeof error !== 'undefined') {\n        api.submitFailed(error);\n      } else {\n        var onSubmit = api.getDeepData('props.onSubmit');\n        var onFail = api.getDeepData('props.onFail');\n        var onSucceed = api.getDeepData('props.onSucceed');\n        var onComplete = api.getDeepData('props.onComplete');\n        api.submitting();\n        api.forEachField(function (field) {\n          if (!api.getFieldMeta(field, 'visited')) {\n            api.changeFieldMeta(field, 'visited', true);\n          }\n        });\n        onSubmit(api.getFormValues()).then(function (result) {\n          api.submitSucceeded(result);\n\n          if (typeof params.onSucceed === 'function') {\n            params.onSucceed(result);\n          }\n\n          if (typeof onSucceed === 'function') {\n            onSucceed(result);\n          }\n\n          if (typeof params.onComplete === 'function') {\n            params.onComplete();\n          }\n\n          if (typeof onComplete === 'function') {\n            onComplete();\n          }\n        }).catch(function (error) {\n          if (error && error.errors) {\n            api.updateFieldErrors(error.errors, {\n              isServerSideError: true\n            });\n          }\n\n          api.submitFailed(error);\n\n          if (typeof params.onFail === 'function') {\n            params.onFail(error);\n          }\n\n          if (typeof onFail === 'function') {\n            onFail(error);\n          }\n\n          if (typeof params.onComplete === 'function') {\n            params.onComplete();\n          }\n\n          if (typeof onComplete === 'function') {\n            onComplete();\n          }\n        });\n      }\n    };\n\n    api.destroy = function () {\n      onDestroy();\n      api.forEachField(function (field) {\n        api.notifyFieldValueWatchers(field);\n        api.notifyFieldMetaWatchers(field);\n      });\n      api.notifyFormValuesWatchers();\n      api.notifyFormMetaWatchers();\n    };\n  }\n});"]},"metadata":{},"sourceType":"script"}